<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n de Clientes y Pensiones - El Sabor de Marcona</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { text-align: center; color: white; margin-bottom: 30px; }
        h1 { font-size: 2.5rem; margin-bottom: 10px; color: white;}
        h2, h3, h4 { color: #343a40; }
        h2 { border-bottom: 2px solid #eee; padding-bottom: 10px; margin-bottom: 20px;}
        .btn-back { background: #6c757d; color: white; padding: 8px 16px; border: none; border-radius: 8px; font-size: 14px; cursor: pointer; transition: transform 0.2s; margin-bottom: 20px; display: inline-flex; align-items: center; text-decoration: none;}
        .btn-back:hover { transform: translateY(-2px); background: #5a6268; }
        .tabs { display: flex; background: white; border-radius: 15px 15px 0 0; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .tab { flex: 1; padding: 15px 20px; text-align: center; cursor: pointer; transition: all 0.3s; font-weight: 600; background: #f8f9fa; color: #6c757d; }
        .tab.active { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .tab-content { background: white; border-radius: 0 0 15px 15px; padding: 30px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); display: none; }
        .tab-content.active { display: block; }
        .form-container { background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 30px; border: 1px solid #e9ecef;}
        .list-section { margin-top: 40px; }
        .cliente-item { background: #ffffff; padding: 15px; margin-bottom: 10px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; border: 1px solid #dee2e6; transition: all 0.2s ease-in-out;}
        .cliente-item:hover { transform: translateY(-2px); box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .cliente-info p { margin: 2px 0; color: #666; }
        .loading { text-align: center; padding: 20px; color: #666; font-style: italic; }
        .alert { padding: 15px; margin-bottom: 20px; border-radius: 8px; }
        .alert-success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .alert-error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .btn { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 10px 20px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; transition: transform 0.2s; margin-right: 10px; }
        .btn-secondary { background: #6c757d; }
        .btn-danger { background: #dc3545; }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: 600; color: #333; }
        input, select { width: 100%; padding: 12px; border: 2px solid #e1e1e1; border-radius: 8px; font-size: 16px; }
        .dynamic-fields { background: #f8f9fa; padding: 20px; border-radius: 8px; margin-top: 15px; display: none; }
        .dynamic-fields.show { display: block; }
        .pagination { margin-top: 25px; --bs-pagination-border-width: 0; --bs-pagination-border-radius: 8px; }
        .pagination .page-link { color: #4a5568; background-color: #f1f5f9; font-weight: 600; border: none; margin: 0 4px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .pagination .page-item.active .page-link { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .pagination .page-item.disabled .page-link { background-color: #f8f9fa; color: #adb5bd; }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.5); }
        .modal-content { background-color: #fefefe; margin: 10% auto; padding: 20px; border: 1px solid #888; width: 80%; max-width: 600px; border-radius: 15px; }
        .close-button { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>
	<div class="container">
	    <a class="btn-back" href="main.html">‚Üê Regresar al Panel</a>
	    <div class="header"><h1>Gesti√≥n de Clientes y Pensiones</h1></div>

	    <div class="tabs">
	        <div class="tab active" onclick="switchTab('clientes', event)">üë• Clientes</div>
	        <div class="tab" onclick="switchTab('pensiones', event)">üèõÔ∏è Empresas y Pensiones</div>
	    </div>

	    <div id="tab-clientes" class="tab-content active">
	        <div class="form-container">
	            <h2>Registro de Cliente</h2><div id="alertContainer1"></div>
	            <form id="clienteForm">
	                <div class="form-group"><label for="tipoCliente">Tipo de Cliente *</label><select id="tipoCliente" onchange="toggleClienteFields()"><option value="">Seleccione...</option><option value="PARTICULAR">Particular</option><option value="PENSION">Pensionado</option></select></div>
	                <div id="camposParticular" class="dynamic-fields"><div class="form-group"><label for="nombreParticular">Nombre Completo *</label><input type="text" id="nombreParticular" placeholder="Ingrese el nombre completo"></div></div>
	                <div id="camposPensionado" class="dynamic-fields"><div class="form-grid"><div class="form-group"><label for="dniPensionado">DNI *</label><input type="text" id="dniPensionado" placeholder="12345678" maxlength="8"></div><div class="form-group"><label for="nombresPensionado">Nombres *</label><input type="text" id="nombresPensionado" placeholder="Juan Carlos"></div></div><div class="form-group"><label for="apellidosPensionado">Apellidos *</label><input type="text" id="apellidosPensionado" placeholder="Garc√≠a L√≥pez"></div></div>
	                <button type="button" class="btn" onclick="registrarCliente()">Registrar</button><button type="button" class="btn btn-secondary" onclick="limpiarFormularioCliente()">Limpiar</button>
	            </form>
	        </div>
	        <div class="list-section">
	            <h2>Lista de Clientes</h2>
	            <div class="form-group"><input type="text" id="buscadorClientes" class="form-control" oninput="buscarDatos('clientes')" placeholder="Buscar por Nombre o DNI..."></div>
	            <div id="clientesLista"><div class="loading">Cargando...</div></div>
	            <nav><ul class="pagination justify-content-center" id="paginacionClientes"></ul></nav>
	        </div>
	    </div>

	    <div id="tab-pensiones" class="tab-content">
	        <div class="form-container">
	            <h3>üè¢ Registro de Empresa</h3><div id="alertContainer2"></div>
	            <form id="empresaForm">
	                <div class="form-grid"><div class="form-group"><label for="rucEmpresa">RUC *</label><input type="text" id="rucEmpresa" placeholder="20123456789" maxlength="11"></div><div class="form-group"><label for="razonSocial">Raz√≥n Social *</label><input type="text" id="razonSocial" placeholder="EMPRESA SAC"></div></div>
	                <button type="button" class="btn" onclick="registrarEmpresa()">Registrar</button><button type="button" class="btn btn-secondary" onclick="limpiarFormularioEmpresa()">Limpiar</button>
	            </form>
	        </div>
	        <div class="list-section">
	            <h4>Empresas Registradas</h4>
	            <div class="form-group"><input type="text" id="buscadorEmpresas" class="form-control" oninput="buscarDatos('empresas')" placeholder="Buscar por Raz√≥n Social o RUC..."></div>
	            <div id="empresasLista"><div class="loading">Cargando...</div></div>
	            <nav><ul class="pagination justify-content-center" id="paginacionEmpresas"></ul></nav>
	        </div>
	        <div class="form-container" style="background: #e8f4fd;">
	            <h3>üíº Registro de Pensi√≥n</h3>
	            <form id="pensionForm">
	                <div class="form-grid"><div class="form-group"><label for="empresaPension">Empresa *</label><select id="empresaPension"></select></div><div class="form-group"><label for="clientePension">Cliente Pensionado *</label><select id="clientePension"></select></div></div>
	                <div class="form-grid"><div class="form-group"><label for="montoMensual">Monto Mensual (S/) *</label><input type="number" id="montoMensual" step="0.01" min="0" placeholder="150.00"></div><div class="form-group"><label for="fechaInicio">Fecha de Inicio *</label><input type="date" id="fechaInicio"></div></div>
	                <div class="form-group"><label for="fechaFin">Fecha de Fin *</label><input type="date" id="fechaFin"></div>
	                <button type="button" class="btn" id="btnRegistrarPension" onclick="registrarPension()">Registrar</button><button type="button" class="btn btn-secondary" onclick="limpiarFormularioPension()">Limpiar</button>
	            </form>
	        </div>
	        <div class="list-section">
	            <h2>Pensiones Registradas</h2>
	            <div class="form-group"><input type="text" id="buscadorPensiones" class="form-control" oninput="buscarDatos('pensiones')" placeholder="Buscar por nombre de la Empresa..."></div>
	            <div id="pensionesList"><div class="loading">Cargando...</div></div>
	            <nav><ul class="pagination justify-content-center" id="paginacionPensiones"></ul></nav>
	        </div>
	    </div>
	</div>

	<div id="editClienteModal" class="modal"><div class="modal-content"><span class="close-button" onclick="closeModal('editClienteModal')">&times;</span><h2>Editar Cliente</h2><form id="editClienteForm"><input type="hidden" id="editClienteId"><div id="editCamposParticular" class="dynamic-fields"><div class="form-group"><label for="editNombreParticular">Nombre Completo *</label><input type="text" id="editNombreParticular"></div></div><div id="editCamposPensionado" class="dynamic-fields"><div class="form-group"><label for="editDniPensionado">DNI *</label><input type="text" id="editDniPensionado" maxlength="8"></div><div class="form-group"><label for="editNombresPensionado">Nombres *</label><input type="text" id="editNombresPensionado"></div><div class="form-group"><label for="editApellidosPensionado">Apellidos *</label><input type="text" id="editApellidosPensionado"></div></div><button type="button" class="btn" id="btnGuardarCliente">Guardar Cambios</button></form></div></div>
	<div id="editEmpresaModal" class="modal"><div class="modal-content"><span class="close-button" onclick="closeModal('editEmpresaModal')">&times;</span><h2>Editar Empresa</h2><form id="editEmpresaForm"><input type="hidden" id="editEmpresaId"><div class="form-group"><label>RUC (No editable)</label><input type="text" id="editRucEmpresa" disabled></div><div class="form-group"><label for="editRazonSocial">Raz√≥n Social *</label><input type="text" id="editRazonSocial" required></div><button type="button" class="btn" id="btnGuardarEmpresa">Guardar Cambios</button></form></div></div>
	<div id="editPensionModal" class="modal"><div class="modal-content"><span class="close-button" onclick="closeModal('editPensionModal')">&times;</span><h2>Editar Pensi√≥n</h2><form id="editPensionForm"><input type="hidden" id="editPensionId"><div class="form-group"><label>Cliente</label><input type="text" id="editPensionCliente" disabled></div><div class="form-group"><label>Empresa</label><input type="text" id="editPensionEmpresa" disabled></div><div class="form-group"><label for="editMontoMensual">Monto (S/)</label><input type="number" id="editMontoMensual" step="0.01" min="0" required></div><div class="form-group"><label for="editFechaInicio">Inicio</label><input type="date" id="editFechaInicio" required></div><div class="form-group"><label for="editFechaFin">Fin</label><input type="date" id="editFechaFin" required></div><button type="button" class="btn" id="btnGuardarPension">Guardar Cambios</button></form></div></div>
	<div id="pensionesAsociadasModal" class="modal"><div class="modal-content"><span class="close-button" onclick="closeModal('pensionesAsociadasModal')">&times;</span><h2 id="modalPensionesTitulo">Pensiones Asociadas</h2><div id="modalPensionesContenido"></div></div></div>


	<script src="js/clientes.js"></script>
	</body>
	</html>